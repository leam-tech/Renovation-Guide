# .meta

A controller containing properties and methods about the models \(meta data\).

## Things to know

{% hint style="success" %}
It is recommended for better support of types by code assistance in IDEs to use`getFrappeMetaController()`in order to get the instance of `FrappeMetaController` instead of `renovation.meta` which is `MetaController` if the backend is _Frappè_, for instance_._ In this guide we will use _Frappé_ as an example and use `getFrappeMetaController().`
{% endhint %}

## .getDocCount\(\)

To get the number of documents based on a filter.

### Input

| property | type | required | description |
| :--- | :--- | :---: | :--- |
| doctype | String | yes | The target doctype |
| filters | `dynamic` | no | Filters based on `DBFilter` class |

### Output

> `RequestResponse<int>`

### Example

```javascript
RequestResponse<int> docCount = await getFrappeMetaController().getDocCount(
      doctype: "Chat Profile",
      filters: [
        ["name", "LIKE", "abc@user.com"]
      ],
    );

if (docCount.isSuccess) {
  print("Number of docs : ${docCount.data}");
} else {
  print(docCount.error);
}
```

### Possible Errors

#### _Doctype Does Not Exist_

> **HTTP code:** `404`
>
> **type:** `NotFoundError`
>
> **cause:** DocType does not exist
>
> **suggestion:** Make sure the queried DocType is input correctly or create the required DocType

#### _Invalid Frappe Filter_

> **type:** `InvalidFrappeFilter`
>
> **cause:** The supplied filter doesn't comply with DBFilter
>
> **suggestion:** Make sure the filter comply with DBFilter class

## .getDocMeta\(\)

To get a doctype's meta. Meta of a doctype is the details about a doctype including but not limited to, DocFields, permissions, etc..

This is useful especially for building the UI based on the fields and properties of a DocType.

### Input

| property | type | required | description |
| :--- | :--- | :---: | :--- |
| doctype | String | yes | The target doctype |

### Output

> `RequestResponse<DocType>`

### Example

```javascript
RequestResponse<DocType> docMeta =
    await getFrappeMetaController().getDocMeta(doctype: "User");

if (docMeta.isSuccess) {
  print("Doc meta : ${docMeta.data}");
} else {
  print(docMeta.error);
}
```

### Sample Response

```javascript
{
  "allowCopy": false,
  "allowEventsInTimeline": 0,
  "allowGuestToView": false,
  "allowImport": true,
  "allowRename": false,
  "app": null,
  "autoname": "naming_series:",
  "beta": false,
  "color": null,
  "colour": null,
  "creation": "2013-06-24 19:29:05",
  "custom": false,
  "defaultPrintFormat": "",
  "description": null,
  ......
}
```

### Possible Errors

#### _Doctype Does Not Exist_

> **HTTP code:** `404`
>
> **type:** `NotFoundError`
>
> **cause:** DocType does not exist
>
> **suggestion:** Make sure the queried DocType is input correctly or create the required DocType

## .getDocInfo\(\)

To get the document's information defined by `DocInfo` of a certain document of a certain doctypes.

### Input

| property | type | required | description |
| :--- | :--- | :---: | :--- |
| doctype | String | yes | The target doctype |
| docname | String | yes | The target document |

### Output

> `RequestResponse<FrappeDocInfo>`

### Example

```javascript
RequestResponse<FrappeDocInfo> docInfo = await getFrappeMetaController()
    .getDocInfo(doctype: "User", docname: "abc@user.com");

if (docInfo.isSuccess) {
  print("Doc info : ${docInfo.data}");
} else {
  print(docInfo.error);
}
```

### Possible Errors

#### _Doctype Does Not Exist_

> **HTTP code:** `404`
>
> **type:** `NotFoundError`
>
> **cause:** DocType does not exist
>
> **suggestion:** Make sure the queried DocType is input correctly or create the required DocType

#### _Docname Does Not Exist_

> **HTTP code:** `404`
>
> **type:** `NotFoundError`
>
> **cause:** Docname does not exist
>
> **suggestion:** Make sure the queried document name is correct or create the required document

#### _DocInfo Not Found_

> **HTTP code:** `404`
>
> **type:** `NotFoundError`
>
> **cause:** DocInfo not found
>
> **suggestion:** Make sure the document has DocInfo

## .getFieldLabel\(\)

To get the label to be used on a field

### Input

| property | type | required | description |
| :--- | :--- | :---: | :--- |
| doctype | String | yes | The target doctype |
| fieldname | String | yes | The target within the doctype |

### Output

> `String`

### Example

```javascript
String fieldLabel = await getFrappeMetaController()
    .getFieldLabel(doctype: "Renovation Review", fieldName: "reviewed_by");

print("Field label: $fieldLabel");
```

### Possible Errors

#### _Doctype Does Not Exist_

> **HTTP code:** `404`
>
> **type:** `NotFoundError`
>
> **cause:** DocType does not exist
>
> **suggestion:** Make sure the queried DocType is input correctly or create the required DocType

## .getReportMeta\(\)

To get the report meta of `Renovation Report` doctype.

### Input

| property | type | required | description |
| :--- | :--- | :---: | :--- |
| report | String | yes | The name of the `Renovation Report` report |

### Output

> `RequestResponse<RenovationReport>`

### Example

```javascript
RequestResponse<RenovationReport> reportMeta =
    await getFrappeMetaController().getReportMeta(report: "General Ledger");

if (reportMeta.isSuccess) {
  print("Repot meta: ${reportMeta.data}");
} else {
  print(reportMeta.error);
}
```

### Sample Response

```javascript
{
  "doctype": "Renovation Report",
  "report": "General Ledger",
  "modified_by": "test-user@abc.com",
  "name": "General Ledger",
  "parent": null,
  "creation": "2019-05-02 17:32:18.298941",
  "modified": "2018-12-04 21:16:07.155480",
  "idx": 0,
  "parenttype": null,
  "filters": [
    {
      "default_value": "eval:core.defaults.company",
      "reqd": 1,
      "modified_by": "test-user@abc.com",
      "name": "c3ae3edc48",
      "parent": "General Ledger",
      "creation": "2019-05-02 17:32:18.298941",
      "modified": "2019-05-02 17:32:18.298941",
      "label": "Company",
      "idx": 1,
      "parenttype": "Renovation Report",
      "fieldname": "company",
      "fieldtype": "Link",
      "doctype": "Renovation Report Filter",
      "owner": "test-user@abc.com",
      "docstatus": 0,
      "options": "Company",
      "parentfield": "filters"
    },
    {
      "default_value": "eval:core.utils.datetime.addMonths(core.utils.datetime.getToday(), -1)",
      "reqd": 1,
      "modified_by": "test-user@abc.com",
      "name": "3db98f0538",
      "parent": "General Ledger",
      "creation": "2019-05-02 17:32:18.298941",
      "modified": "2019-05-02 17:32:18.298941",
      "label": "From Date",
      "idx": 2,
      "parenttype": "Renovation Report",
      "fieldname": "from_date",
      "fieldtype": "Date",
      "doctype": "Renovation Report Filter",
      "owner": "test-user@abc.com",
      "docstatus": 0,
      "options": null,
      "parentfield": "filters"
    }
    // .....
  ],
  "owner": "test-user@abc.com",
  "docstatus": 0,
  "parentfield": null
}
```

### Possible Errors

#### _Renovation Report does not exist_

> **HTTP code:** `404`
>
> **type:** `NotFoundError`
>
> **cause:** The target report does not exist
>
> **suggestion:** Make sure the name is correct or create the report

